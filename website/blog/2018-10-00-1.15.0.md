---
author: Ika (@ikatyang)
authorURL: https://github.com/ikatyang
title: "Prettier 1.15: HTML, Vue, Angular and MDX Support"
---

TODO: update the blog post date (including the link in `options.md`)

This release adds TODO.

<!--truncate-->

## Highlights

### HTML/Vue/Angular

#### Support HTML, Vue, and Angular ([#5259] by [@ikatyang], [#4753] by [@evilebottnawi], [#2083] by [@azz])

Prettier can now format HTML, Vue and Angular files! ðŸŽ‰

We use [angular-html-parser][angular-html-parser], a HTML parser extracted from [Angular][@angular/compiler/ml_parser],
to parse these HTML and HTML template files so it should be highly compliant with the HTML spec thanks to the Angular team.

[angular-html-parser]: https://github.com/ikatyang/angular-html-parser/tree/master/packages/angular-html-parser
[@angular/compiler/ml_parser]: https://github.com/angular/angular/tree/master/packages/compiler/src/ml_parser

A few highlights:

##### Whitespace-sensitive formatting

As you may notice during daily HTML works, the following two cases won't produce the same output:

|                |      html      |    output    |
| -------------- | :------------: | :----------: |
| with spaces    | `1<b> 2 </b>3` | 1<b> 2 </b>3 |
| without spaces |  `1<b>2</b>3`  |  1<b>2</b>3  |

This is because whitespaces are sensitive in inline elements.

For this reason, we cannot safely format

<!-- prettier-ignore -->
```html
<a href="https://prettier.io/">Prettier is an opinionated code formatter.</a>
```

into

<!-- prettier-ignore -->
```html
<a href="https://prettier.io/">
  Prettier is an opinionated code formatter.
</a>
```

since it may break your intent.

Instead of breaking your code or just doing nothing, we introduce _whitespace-sensitive formatting_, which:

- follows the default CSS `display` value for every element to identify if the whitespace is sensitive,
- and borrows the opening or closing tags (if necessary) to avoid adding or removing sensitive whitespaces.

For example:

<!-- prettier-ignore -->
```html
<!-- <span> is an inline element, <div> is a block element -->

<!-- input -->
<span class="dolorum atque aspernatur">Est molestiae sunt facilis qui rem.</span>
<div class="voluptatem architecto at">Architecto rerum architecto incidunt sint.</div>

<!-- output -->
<span class="dolorum atque aspernatur"
  >Est molestiae sunt facilis qui rem.</span
>
<div class="voluptatem architecto at">
  Architecto rerum architecto incidunt sint.
</div>
```

We also allow magic comments (e.g., `<!-- display: block -->`) to tell Prettier how to format this element
due to the fact that CSS display can be changed:

<!-- prettier-ignore -->
```html
<!-- input -->
<!-- display: block -->
<span class="dolorum atque aspernatur">Est molestiae sunt facilis qui rem.</span>

<!-- output -->
<!-- display: block -->
<span class="dolorum atque aspernatur">
  Est molestiae sunt facilis qui rem.
</span>
```

There's also an option for the global whitespace sensitivity
in case you may want maximum safety or you just don't care about those whitespaces:

`--html-whitespace-sensitivity` (defaults to `css`)

- `css` - Respect the default value of CSS `display` property.
- `strict` - Whitespaces are considered sensitive.
- `ignore` - Whitespaces are considered insensitive.

##### Automatic parser inference

Prettier uses filename to infer which parser to use. Here's the default patterns for HTML, Vue, and Angular:

- `*.html`: `--parser html`
- `*.component.html`: `--parser angular`
- `*.vue`: `--parser vue`

Make sure your filename matches the correct parser (especially for Angular users)
or you have to manually specify which parser to use via the [overrides] field.

[overrides]: https://prettier.io/docs/en/configuration.html#configuration-overrides

Note that framework-specific formatting won't be triggered in `--parser html`.

##### HTML template literal in JavaScript

We also add support for HTML template literal:

- `` html`code` ``
- `` /* HTML */ `code` ``

<!-- prettier-ignore -->
```js
// input
const foo = html`<div class="voluptatem architecto at">Architecto rerum ${interpolation} architecto incidunt sint.</div>`;

// output
const foo = html`
  <div class="voluptatem architecto at">
    Architecto rerum ${interpolation} architecto incidunt sint.
  </div>
`;
```

##### Vue formatting

Vue-specific syntaxes are supported:

- interpolation
  - `{{ something }}`
- attribute
  - `v-something`
  - `:something`
  - `@something`
  - `v-for`
  - `slot-scope`

##### Angular formatting

Angular-specific syntaxes are supported:

- interpolation
  - `{{ something }}`
- attribute
  - `(something)`
  - `[something]`
  - `[(something)]`
  - `*something`
- inline template
  - `` @Component({ template: `<div>Hello World</div>` }) ``

### MDX

#### Support MDX ([#4975] by [@ikatyang])

[MDX](https://mdxjs.com/) is a markdown extension that let you use JSX to build cool documentation,
Prettier also adds support for it!

<!-- prettier-ignore -->
```md
<!-- Input -->

import { 
  colors } from 
   './theme'
import     Palette from     './components/palette'

#      Colors

<Palette colors={
      colors} 
  />

<!-- Output -->

import { colors } from "./theme";
import Palette from "./components/palette";

# Colors

<Palette colors={colors} />
```

### JavaScript

#### Respect original text decorator order ([#5207] by [@duailibe])

TODO

#### Keep decorators inline if they were written inline ([#5188] by [@duailibe])

TODO

#### Print nested ternaries differently ([#5039] by [@suchipi])

TODO

#### Improved object-break heuristic ([#5205] by [@j-f1])

Previously, Prettier would automatically break objects onto multiple lines if they didnâ€™t fit within the print width.
Prettier would also keep objects broken onto multiple lines if there was a newline somewhere inside them in the input code.
This made it difficult to collapse an object since you had to manually merge the object onto one line.
Since manual formatting changes are a task Prettier aims to eliminate, weâ€™ve changed the behavior to only check for a newline between the `{` and the first key:

<!-- prettier-ignore -->
```js
// Input:
const data = {  foo: 'bar',
  baz: 'quux'
}
/* Youâ€™d get this format by deleting the newline after the `{` */

// Output (Prettier 1.14):
const data = {
  foo: 'bar',
  baz: 'quux'
}

// Output (Prettier 1.15):
const data = { foo: 'bar', baz: 'quux' }

```

### JSX

#### fix: splitting jsx text correctly ([#5006] by [@yuliaHope])

TODO

## Other changes

### API/CLI

#### Infer via shebang ([#5149] by [@haggholm])

TODO

#### Add a new `trim` command to trim whitespaces in the current line ([#4772] by [@warrenseine])

TODO

#### Colorful validation message ([#5020], [#5057] by [@ikatyang])

Previously, there's no color for the validation message, which is not that easy to distinguish the keyword.
In Prettier 1.15, you should be able to understand what's going on at a glance.

<code style="display: block; background: #282a36; color: #f1f1f0">
\# Input<br />
$ prettier filename.js --trailing-comma wow<br />
<br />
\# Output (Prettier 1.14)<br />
[<span style="color: #ff5c57">error</span>] Invalid \`\`--trailing-comma\`\` value. Expected "all", "es5" or "none", but received \`"wow"\`.
<br /><br />
\# Output (Prettier 1.15)<br />
[<span style="color: #ff5c57">error</span>] Invalid <span style="color: #ff5c57">--trailing-comma</span> value. Expected <span style="color: #57c7ff">"all", "es5" or "none"</span>, but received <span style="color: #ff5c57">"wow"</span>.
</code>

#### feat: add printer.preprocess ([#5041] by [@ikatyang])

TODO

#### fix(config): better error message for unsupported extension ([#4969] by [@ikatyang])

TODO

### JavaScript

#### Treat single-star comments as JSDoc ([#5206] by [@j-f1])

Prettier will now properly indent JSDoc-style comments with only a single `*` on the first line (`/*` vs `/**`) when the commentâ€™s indentation changes:

<!-- prettier-ignore -->
```js
// Input:
if (true) {
    /*
     * Oh no
     */
}

// Output (Prettier 1.14):
if (true) {
  /*
   	 * Oh no
 	   */
}

// Output (Prettier 1.15):
if (true) {
  /*
 	 * Oh no
 	 */
}

```

#### Add support for flow typecast comments ([#5280] by [@swac])

TODO

#### Break nested TSConditionalType ([#5272] by [@duailibe])

TODO

#### Correct parentheses for mixed exp/mod ([#5243] by [@bakkot])

TODO

#### Fix comment issue with try finally ([#5252] by [@aquibm])

TODO

#### Inline the arguments of an arrow function in the body is conditional expression ([#5209] by [@duailibe])

TODO

#### Fix printing of catch clause with a comment ([#5202] by [@duailibe])

TODO

#### Fix comment in variable declarator ([#5190] by [@duailibe])

TODO

#### Fix parens around ternary inside OptionalMemberExpression ([#5179] by [@existentialism])

TODO

#### Escape not just backticks but `${` as well in graphql tags ([#5137] by [@lydell])

TODO

#### Fix quote property name as es5 compatible ([#5157] by [@koba04])

TODO

#### Fix break args when second arg is a ternary ([#5151] by [@onurtemizkan])

TODO

#### Add support for timeouts passed as numbers to test functions ([#5085] by [@j-f1])

This preserves Prettierâ€™s special formatting for testing functions when a timeout (number) is passed as a third parameter:

<!-- prettier-ignore -->
```js
// Input:
it('Handles at least 10k untracked files without failing', async () => {
  hello()
}, 25000)

// Output (Prettier 1.14):
it(
  "Handles at least 10k untracked files without failing",
  async () => {
    hello();
  },
  25000
);

// Output (Prettier 1.15):
it('Handles at least 10k untracked files without failing', async () => {
  hello()
}, 25000)
```

#### Format {before,after}{Each,All} calls like regular function calls ([#5011] by [@ericsakmar])

TODO

#### Bugfix/ Don't inline pipeline operator with leading ownline comment ([#5015] by [@flxwu])

TODO

#### Bugfix/ Leave Dangle Comments in NewExpression ([#5017] by [@flxwu])

TODO

#### Remove redundant ASI protection for BindExpression ([#4970] by [@TitanSnow])

TODO

#### Fix [#4963]: parens are incorrectly stripped in BindExpression ([#4964] by [@TitanSnow])

TODO

#### Fix ternary format in function call ([#4368] by [@malcolmsgroves])

TODO

#### Verify the precedingNode type when handling import declaration comments ([#5016] by [@ericsakmar])

TODO

#### Fix Flow generic comment positioning ([#5290] by [@swac])

TODO

#### Fix unstable while comment ([#5251] by [@jaideng123])

TODO

### JSX

#### Prevent JSX from breaking a logical expression chain ([#5092] by [@duailibe])

TODO

#### [unicode] Fix trailing nbsp ([#5165] by [@vjeux])

TODO

#### Keep simple JSXOpeningTag's unbroken ([#5078] by [@duailibe])

TODO

#### Fix no false positive for arrow function in jsx expression ([#5063] by [@ikatyang])

TODO

### Flow

#### Inline Generics with a single identifier ([#5066] by [@duailibe])

TODO

#### Fix flow extends not breaking out into new lines ([#5244] by [@aquibm])

TODO

#### Update flow parser to 0.84.0 ([#5303] by [@jbrown215])

TODO

#### Pretty print inexact ([#5304] by [@jbrown215])

TODO

### TypeScript

#### Add ASI protection for TSNonNullExpression ([#5262] by [@duailibe])

TODO

#### Fix do not add extra semicolon to `TSMethodSignature` when `prettier-ignore` is used ([#5160] by [@onurtemizkan])

TODO

#### Fix no invalid parens for destructuring with default value ([#5096] by [@ikatyang])

TODO

#### Fix no-semi for class props with modifiers ([#5083] by [@ikatyang])

TODO

#### Fix add parens for complex nodes in ClassExpression ([#5074] by [@ikatyang])

TODO

#### Fix preserve necessary parens for TSOptionalType ([#5056] by [@ikatyang])

TODO

### CSS

#### Fix no wrong loc info caused by front matter ([#5103] by [@ikatyang])

TODO

### Markdown

#### Fix trailing spaces after front matters are allowed ([#5107] by [@ikatyang])

TODO

#### Fix do not add whitespaces between Latin and Hangul ([#5040] by [@ikatyang])

TODO

#### Fix preserve leading/trailing newlines in fenced code block ([#5038] by [@ikatyang])

TODO

#### Fix inline footnote def if there's only one 1-line paragraph ([#5025] by [@ikatyang])

TODO

#### Fix stably print lists in front of whitespace-only trailing newline ([#5024] by [@ikatyang])

TODO

#### feat: Preserve math ([#5050], [#5220] by [@ikatyang])

TODO

### YAML

#### Fix escape quotes correctly ([#5236] by [@ikatyang])

TODO

#### Fix update parsers ([#5027] by [@ikatyang])

TODO

#### feat: Prefer implicit key for empty value ([#4972] by [@ikatyang])

TODO

[@aquibm]: https://github.com/aquibm
[@azz]: https://github.com/azz
[@bakkot]: https://github.com/bakkot
[@duailibe]: https://github.com/duailibe
[@ericsakmar]: https://github.com/ericsakmar
[@evilebottnawi]: https://github.com/evilebottnawi
[@existentialism]: https://github.com/existentialism
[@flxwu]: https://github.com/flxwu
[@haggholm]: https://github.com/haggholm
[@ikatyang]: https://github.com/ikatyang
[@j-f1]: https://github.com/j-f1
[@jaideng123]: https://github.com/jaideng123
[@jbrown215]: https://github.com/jbrown215
[@koba04]: https://github.com/koba04
[@lydell]: https://github.com/lydell
[@malcolmsgroves]: https://github.com/malcolmsgroves
[@onurtemizkan]: https://github.com/onurtemizkan
[@suchipi]: https://github.com/suchipi
[@swac]: https://github.com/swac
[@titansnow]: https://github.com/TitanSnow
[@vjeux]: https://github.com/vjeux
[@warrenseine]: https://github.com/warrenseine
[@yuliahope]: https://github.com/yuliaHope
[#2083]: https://github.com/prettier/prettier/pull/2083
[#4368]: https://github.com/prettier/prettier/pull/4368
[#4753]: https://github.com/prettier/prettier/pull/4753
[#4772]: https://github.com/prettier/prettier/pull/4772
[#4963]: https://github.com/prettier/prettier/pull/4963
[#4964]: https://github.com/prettier/prettier/pull/4964
[#4969]: https://github.com/prettier/prettier/pull/4969
[#4970]: https://github.com/prettier/prettier/pull/4970
[#4972]: https://github.com/prettier/prettier/pull/4972
[#4975]: https://github.com/prettier/prettier/pull/4975
[#5006]: https://github.com/prettier/prettier/pull/5006
[#5011]: https://github.com/prettier/prettier/pull/5011
[#5015]: https://github.com/prettier/prettier/pull/5015
[#5016]: https://github.com/prettier/prettier/pull/5016
[#5017]: https://github.com/prettier/prettier/pull/5017
[#5020]: https://github.com/prettier/prettier/pull/5020
[#5024]: https://github.com/prettier/prettier/pull/5024
[#5025]: https://github.com/prettier/prettier/pull/5025
[#5027]: https://github.com/prettier/prettier/pull/5027
[#5038]: https://github.com/prettier/prettier/pull/5038
[#5039]: https://github.com/prettier/prettier/pull/5039
[#5040]: https://github.com/prettier/prettier/pull/5040
[#5041]: https://github.com/prettier/prettier/pull/5041
[#5050]: https://github.com/prettier/prettier/pull/5050
[#5056]: https://github.com/prettier/prettier/pull/5056
[#5057]: https://github.com/prettier/prettier/pull/5057
[#5063]: https://github.com/prettier/prettier/pull/5063
[#5066]: https://github.com/prettier/prettier/pull/5066
[#5074]: https://github.com/prettier/prettier/pull/5074
[#5078]: https://github.com/prettier/prettier/pull/5078
[#5083]: https://github.com/prettier/prettier/pull/5083
[#5085]: https://github.com/prettier/prettier/pull/5085
[#5092]: https://github.com/prettier/prettier/pull/5092
[#5096]: https://github.com/prettier/prettier/pull/5096
[#5103]: https://github.com/prettier/prettier/pull/5103
[#5107]: https://github.com/prettier/prettier/pull/5107
[#5137]: https://github.com/prettier/prettier/pull/5137
[#5149]: https://github.com/prettier/prettier/pull/5149
[#5151]: https://github.com/prettier/prettier/pull/5151
[#5157]: https://github.com/prettier/prettier/pull/5157
[#5160]: https://github.com/prettier/prettier/pull/5160
[#5165]: https://github.com/prettier/prettier/pull/5165
[#5179]: https://github.com/prettier/prettier/pull/5179
[#5188]: https://github.com/prettier/prettier/pull/5188
[#5190]: https://github.com/prettier/prettier/pull/5190
[#5202]: https://github.com/prettier/prettier/pull/5202
[#5205]: https://github.com/prettier/prettier/pull/5205
[#5206]: https://github.com/prettier/prettier/pull/5206
[#5207]: https://github.com/prettier/prettier/pull/5207
[#5209]: https://github.com/prettier/prettier/pull/5209
[#5220]: https://github.com/prettier/prettier/pull/5220
[#5236]: https://github.com/prettier/prettier/pull/5236
[#5243]: https://github.com/prettier/prettier/pull/5243
[#5244]: https://github.com/prettier/prettier/pull/5244
[#5251]: https://github.com/prettier/prettier/pull/5251
[#5252]: https://github.com/prettier/prettier/pull/5252
[#5259]: https://github.com/prettier/prettier/pull/5259
[#5262]: https://github.com/prettier/prettier/pull/5262
[#5272]: https://github.com/prettier/prettier/pull/5272
[#5280]: https://github.com/prettier/prettier/pull/5280
[#5290]: https://github.com/prettier/prettier/pull/5290
[#5303]: https://github.com/prettier/prettier/pull/5303
[#5304]: https://github.com/prettier/prettier/pull/5304
