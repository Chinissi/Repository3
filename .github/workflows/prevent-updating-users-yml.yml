name: Prevent updating users.yml

on:
  pull_request:
    paths:
      - "website/data/users.yml"

jobs:
  prevent-add-users:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Create comment
        uses: peter-evans/create-or-update-comment@v1
        issue-number: ${{ github.event.number }}
        body: |
          Thank you for using Prettier! But we don't accept updating `users.yml` anymore.
          If you created this PR for a purpose other than adding users, please ping a maintainer.
      - name: Close PR
        uses: actions-cool/issues-helper@v2
        with:
          actions: "close-issue"
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.number }}
